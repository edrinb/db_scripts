SELECT SUBSTR(a.object, 1, 25) TABLENAME, SUBSTR(s.username, 1, 15) USERNAME, SUBSTR(p.pid, 1, 5) PID, SUBSTR(p.spid, 1, 10) SYSTEM_ID, DECODE(l.type, 'RT', 'Redo Log Buffer', 'TD', 'Dictionary', 'TM', 'DML', 'TS', 'Temp Segments', 'TX', 'Transaction', 'UL', 'User', 'RW', 'Row Wait', l.type) LOCK_TYPE FROM v$access a, v$process p, v$session s, v$lock l WHERE s.sid = a.sid AND s.paddr = p.addr AND l.sid = p.pid GROUP BY a.object, s.username, p.pid, l.type, p.spid ORDER BY a.object, s.username
